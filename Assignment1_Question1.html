<!DOCTYPE HTML PUBLIC “EG”>

<html>
  <head>
    <title>Lab3 Exercise1</title>
  </head>

  <body>
    <script>
      function checkForm(form) {
        return (
             (!isEmpty(form.nameBox))
          && (!isEmpty(form.ageBox))
          && (isName(form.nameBox))
          && (isNumber(form.ageBox))
          && (isPhoneNumber(form.phone))
        );
      }

      function isNumber(field) {
        let isNum = true;
    		for (var i = 0; i < field.value.length; i++){
    			var oneChar=field.value.substring(i,i+1);
    			if (oneChar < "0" || oneChar > "9"){
    				alert("Numbers only");
    				field.focus();
    				field.select();
            isNum = false;
            break;
    			}
    		}
        return isNum;
      }

      // Checks that a name is less than 50 characters.
      // Calls function to check if input is a word.
      function isName(field) {
        if (field.value.length > 50) {
          alert("Entry too long");
          field.focus();
          field.select();
          return false;
        }
        return (isWord(field));
      }

      function isWord(field) {
        let isWord = true;
        if (!field.value.match(/^[a-zA-Z]*$/)){
          alert("Letters only");
          field.focus();
          field.select();
          isWord = false;
        }
        return isWord;
      }

      function isEmpty(field) {
        if (field.value == null || field.value =="") {
          alert("Enter something!");
          field.focus();
          field.select();
        }
        return (field.value == null || field.value =="");
      }

      // Trims whitespaces and then uses regex to check if format is correct.
      function isPhoneNumber(field) {
        let isValid = false;
        let trimmedValue = field.value.replace(/ /g, "");
        if ((trimmedValue).match(/^[+]\d{11}$/)) {
          isValid = true;
        } else {
          alert("Bad phone number value");
          field.focus();
          field.select();
        }
        return isValid;
      }

      function isDOB(field) {

      }

      function isParagraph(field) {
      }


    </script>
    <hr>
    <h1>Assignment 1</h1>
    <hr>
    <h2> User Information:</h2>

    <p>
      <a id="s1"></a>
      First section
    </p>
    <h2>
      <a id="s2"></a>
      Second section
    </h2>
    <p>
      This is where the buttons will go.
    </p>

    <form
    method="get"
    action="http://www.it.murdoch.edu.au/cgi-bin/reply1.pl"
    onsubmit="return checkForm(this)"
      <p>
        Name:
        <input
          type="text"
          name="nameBox"
          size="20"
          onChange="isName(this)"
        </input>
        <br><br>
        Age:
        <input
          type="text"
          name="ageBox"
          size="20"
          onChange="isNumber(this)"
        </input>
        <br><br>
        Phone:
        <input
          type="text"
          name="phone"
          size="20"
          onChange="isPhoneNumber(this)"
        </input>
        <br><br>
        <input type="submit" name="" value="submit"">
      </p>
    </form>
  </body>
</html>
