<!DOCTYPE HTML PUBLIC “EG”>

<html>
  <head>
    <title>Lab3 Exercise1</title>
  </head>

  <body>
    <script>
      function checkForm(form) {
        return (
             (!isEmpty(form.nameBox))
          && (!isEmpty(form.phone))
          && (!isEmpty(form.dob))

          && (isName(form.nameBox))
          && (isPhoneNumber(form.phone))
          && (isDOB(form.dob))
        );
      }

      // Uses regex to check if value is an integer
      function isInt(field) {
        let isNum = true;
        if (!field.value.match(/^[\d]*$/)) {
          alert("Bad number value");
        }
        return isNum;
      }

      // Checks that a name is less than 50 characters.
      // Calls function to check if input is a word.
      function isName(field) {
        if (field.value.length > 50) {
          alert("Entry too long");
          field.focus();
          field.select();
          return false;
        }
        return (isWord(field));
      }

      function isWord(field) {
        let isWord = true;
        if (!field.value.match(/^[a-zA-Z]*$/)){
          alert("Letters only");
          field.focus();
          field.select();
          isWord = false;
        }
        return isWord;
      }

      function isEmpty(field) {
        if (field.value == null || field.value =="") {
          alert("Enter something!");
          field.focus();
          field.select();
        }
        return (field.value == null || field.value =="");
      }

      // Trims whitespaces and then uses regex to check if format is correct.
      function isPhoneNumber(field) {
        let isValid = false;
        let trimmedValue = field.value.replace(/ /g, "");
        if ((trimmedValue).match(/^[+]\d{11}$/)) {
          isValid = true;
        } else {
          alert("Bad phone number value. Please use the format:\n+61 XXX XXX XXX");
          field.focus();
          field.select();
        }
        return isValid;
      }

      function isDOB(field) {
        let isDOB = true;
        if (!field.value.match(/^\d{2}[\/]\d{2}[\/]\d{4}$/)){
          alert("Incorrect date format. Please use:\ndd/mm/yyyy");
          field.focus();
          field.select();
          isDOB = false;
        }
        return isDOB;
      }

      function isParagraph(field) {
      }


    </script>
    <hr>
    <h1>Assignment 1</h1>
    <hr>
    <h2> User Information:</h2>

    <p>
      <a id="s1"></a>
      First section
    </p>
    <h2>
      <a id="s2"></a>
      Second section
    </h2>
    <p>
      This is where the buttons will go.
    </p>

    <form
    method="get"
    action="http://www.it.murdoch.edu.au/cgi-bin/reply1.pl"
    onsubmit="return checkForm(this)"
      <p>
        Name:
        <input
          type="text"
          name="nameBox"
          size="20"
          onChange="isName(this)"
        </input>
        <br><br>

        Phone:
        <input
          type="text"
          name="phone"
          size="20"
          onChange="isPhoneNumber(this)"
        </input>
        <br><br>

        DOB:
        <input
          type="text"
          name="dob"
          size="20"
          onChange="isDOB(this)"
        </input>
        <br><br>

        <input type="submit" name="" value="submit"">
      </p>
    </form>
  </body>
</html>
